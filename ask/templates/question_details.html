{% extends 'base.html' %}

{% load static %}

{% block headerName %}
    <h1>Question</h1>
{% endblock %}

{% block styles %}
    <link href="{% static 'css/question_details.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="list-group">
        <figure class="imgWrap">
            <img class="avatarOnPost" src="{% static question.author.upload %}" alt="">
            <figcaption>{{ question.author.username }}</figcaption>
        </figure>
        <div class="txtWrap">
            <h4 class="list-group-item-heading">{{ question.title }}</h4>
            <h5>{{ question.date }}</h5>
            <div class="likes">
                <form action="" class="btn btn-default glyphicon glyphicon-thumbs-up">{{ question.likes }}</form>
                <form action="" class="btn btn-default glyphicon glyphicon-thumbs-down">{{ question.dislikes }}</form>
                <a href="/questions/{{ question.id }}/write_answer/">
                    <button type="button" class="btn btn-success">Answer</button>
                </a>
            </div>
        </div>
        <hr>
        <p>{{ question.text }}</p>
        {% for tag in question.tags.all %}
            <a style="text-decoration: none" href="{% url 'ask:questions_by_tag' tag.title %}">
                <span class="label label-danger">{{ tag.title }}</span>
            </a>
        {% endfor %}
    </div>
    {% for answer in question.answers.all %}
        <div class="list-group">
            <div id="{{ answer.id }}" class="list-group-item">
                <figure class="imgWrap">
                    <img class="avatarOnPost" src="{% static answer.author.upload %}" alt="">
                    <figcaption>{{ answer.author.username }}</figcaption>
                </figure>

                <div class="txtWrap">
                    <div class="list-group-item-heading">
                        <b>{{ answer.text }}</b>
                    </div>
                    <hr>
                    <div class="answer likes">
                        <form action="" class="btn btn-success glyphicon glyphicon-thumbs-up">{{ answer.likes }}</form>
                        <form action="" class="btn btn-danger glyphicon glyphicon-thumbs-down">{{ answer.dislikes }}</form>
                    </div>
                    {{ answer.date }}
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock %}
